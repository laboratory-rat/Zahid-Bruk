<div class="mdl-grid mdl-container appear-page">
    <div id="loading" [class.hidden]='!isLoading' class="mdl-progress mdl-js-progress mdl-progress__indeterminate top-loading"></div>
    <div class="mdl-cell mdl-cell--3-col mdl-cell--8-col-tablet mdl-cell--6-col-phone mdl-card mdl-cell--top mdl-shadow--2dp overflow-visible">
        <product-filter class="product-filter" [filter]='filter' (filterSubmit)='search()'>Filter</product-filter>
    </div>
    <div class="mdl-cell mdl-cell--9-col mdl-cell--8-col-tablet mdl-cell--6-col-phone mdl-grid shop-product-grid" *ngIf='currentProducts != null'>
        <div class="mdl-cell mdl-cell--12-col mdl-typography--text-right">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" [ngClass]='{"hidden": !listView}' (click)='listView = false'>
                    <i class="material-icons">view_list</i>
                </button>
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" [ngClass]='{"hidden": listView}' (click)='listView = true'>
                    <i class="material-icons">view_module</i>
                </button>
        </div>

        <!-- Card view -->

        <div class="mdl-cell mdl-cell--4-col mdl-cell--4-col-tablet mdl-cell--6-col-phone mdl-card mdl-shadow--2dp product-card mdl-cell--top product-area" *ngFor='let product of currentProducts' [class.hidden]='listView'>
            <div class="mdl-card__title">
                <h2 class="mdl-card__title-text">
                    {{product.name}}
                </h2>
            </div>
            <div class="mdl-card__media" style='background-color: white; padding: 16px;'>
                <img [src]='product.images[0].src' [alt]='product.images[0].src' style='width: 100%; height: 100%'>
            </div>
            <div class="mdl-card__supporting-text">

            </div>
            <div class="mdl-card__actions">
                <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--raised mdl-button--primary mrs-center" [routerLink]='["PageProduct", { productId: product.id.toString()}]'>Детальніше</button>
            </div>
        </div>

        <!-- List view -->

        <div [class.hidden]='!listView' class="mdl-cell appear-page mdl-cell--12-col mdl-card mdl-shadow--2dp product-list" *ngFor='let product of currentProducts'>
            <div class="product-image">
                <img [src]='product.images[0].src' [alt]='product.images[0].src' style='width: 100%; height: 100%'>
            </div>
            <div class="product-description">
                <div class="mdl-typography--title">{{product.name}}</div>
                <div>{{product.price}}</div>
            </div>
        </div>
    </div>
</div>